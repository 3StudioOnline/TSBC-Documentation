"use strict";(self.webpackChunktsbc_documentation=self.webpackChunktsbc_documentation||[]).push([[54480],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>h});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var o=a.createContext({}),p=function(e){var t=a.useContext(o),r=t;return e&&(r="function"==typeof e?e(t):l(l({},t),e)),r},d=function(e){var t=p(e.components);return a.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,o=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(r),h=n,m=c["".concat(o,".").concat(h)]||c[h]||u[h]||i;return r?a.createElement(m,l(l({ref:t},d),{},{components:r})):a.createElement(m,l({ref:t},d))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,l=new Array(i);l[0]=c;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:n,l[1]=s;for(var p=2;p<i;p++)l[p]=r[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,r)}c.displayName="MDXCreateElement"},4887:(e,t,r)=>{r.d(t,{UE:()=>l,h8:()=>n,qh:()=>o,y$:()=>i});r(87462),r(67294);var a=r(3905);const n=e=>{let{children:t,text:r}=e;return(0,a.kt)("span",{style:{backgroundColor:"#822",color:"#faa",border:"1px #faa solid",borderRadius:"5rem",padding:".2rem .4rem",fontSize:".6rem"}},r)},i=e=>{let{children:t}=e;return(0,a.kt)("span",{style:{color:"#faa"}},t)};function l(e){let{children:t,version:r}=e;const n="#ffffff";return(0,a.kt)("span",{style:{backgroundColor:"#414141",color:n,border:"1px #ffffff solid",borderRadius:"5px",padding:".05rem .4rem",fontSize:".75rem"}},r)}function s(e,t,r,n){return(0,a.kt)("div",{style:{backgroundColor:n,color:r,border:"1px "+r+" solid",borderRadius:"5px",padding:".1rem .4rem"}},t)}const o=e=>{let{children:t}=e;return s(0,"Released","#afa","#181")}},23730:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>d});var a=r(87462),n=(r(67294),r(3905)),i=r(4887);const l={sidebar_position:1,title:"Introduction"},s=void 0,o={unversionedId:"hd-wallets/introduction",id:"version-3.1.1/hd-wallets/introduction",title:"Introduction",description:"HD Wallets are defined in BIP-32.",source:"@site/versioned_docs/version-3.1.1/hd-wallets/introduction.mdx",sourceDirName:"hd-wallets",slug:"/hd-wallets/introduction",permalink:"/TSBC-Documentation/docs/3.1.1/hd-wallets/introduction",draft:!1,editUrl:"https://github.com/3StudioOnline/TSBC-Documentation/edit/master/versioned_docs/version-3.1.1/hd-wallets/introduction.mdx",tags:[],version:"3.1.1",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Introduction"},sidebar:"tutorialSidebar",previous:{title:"Decode Smart Contract ABI",permalink:"/TSBC-Documentation/docs/3.1.1/encoding/abi/decode-abi"},next:{title:"Seed Generation",permalink:"/TSBC-Documentation/docs/3.1.1/hd-wallets/master-key-generation/seed-generation"}},p={},d=[{value:"Why HD Wallets?",id:"why-hd-wallets",level:2},{value:"Security",id:"security",level:3},{value:"Recovery",id:"recovery",level:3},{value:"Privacy",id:"privacy",level:3},{value:"Compatibility",id:"compatibility",level:3},{value:"Multi-Currency Support",id:"multi-currency-support",level:3},{value:"User Experience",id:"user-experience",level:3},{value:"Child Types",id:"child-types",level:2},{value:"Key Structure",id:"key-structure",level:2},{value:"Members",id:"members",level:3},{value:"Key Type",id:"key-type",level:4},{value:"Version",id:"version",level:4},{value:"Depth",id:"depth",level:4},{value:"Parent Fingerprint",id:"parent-fingerprint",level:4},{value:"Child Type",id:"child-type",level:4},{value:"Child Number",id:"child-number",level:4},{value:"Chain Code",id:"chain-code",level:4},{value:"Key Data",id:"key-data",level:4},{value:"Creating a Key Structure from Members",id:"creating-a-key-structure-from-members",level:3},{value:"Accessing Key Structure Members",id:"accessing-key-structure-members",level:3}],u={toc:d};function c(e){let{components:t,...l}=e;return(0,n.kt)("wrapper",(0,a.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"HD Wallets are defined in ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki#serialization-format"},"BIP-32"),"."),(0,n.kt)("p",null,"Hierarchical Deterministic Wallets, or ",(0,n.kt)("em",{parentName:"p"},"HD Wallets"),", introduce cryptocurrency wallet technology that allows for the creation\nof a tree-like structure of wallet keys, with the maximum depth of 256. A single seed, usually created using mnemonic sentences\n(",(0,n.kt)("a",{parentName:"p",href:"https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki"},"BIP-39"),") that allow for easier memorization, is used to\ngenerate the master keypair. From it, 2",(0,n.kt)("sup",null,"32")," direct child key pairs (2",(0,n.kt)("sup",null,"31")," ",(0,n.kt)("em",{parentName:"p"},"hardened")," and 2",(0,n.kt)("sup",null,"31")," ",(0,n.kt)("em",{parentName:"p"},"non-hardened"),")\ncan be derived and every node in hierarchy can derive the same amount of its own children.",(0,n.kt)("br",null)," The entire wallet structure\nis recoverable from the seed, or master key. Wallet sub-structures can also be recovered from parent key data, without\nknowing the master key data or seed at all."),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"HD Wallet Diagram",src:r(78031).Z,width:"1435",height:"1050"}),"\n",(0,n.kt)("em",{parentName:"p"},"Diagram of an HD Wallet")),(0,n.kt)("h2",{id:"why-hd-wallets"},"Why HD Wallets?"),(0,n.kt)("h3",{id:"security"},"Security"),(0,n.kt)("p",null,"As long as the master seed and key is kept secret, only the branch of the structure that has its private key leaked is exposed.\nThis reduces the risk of exposure of specific, important keys compared to managing multiple standalone keys."),(0,n.kt)("h3",{id:"recovery"},"Recovery"),(0,n.kt)("p",null,"Having the master seed, or the key that is the parent of the current branch allows for backup and easy recovery of any child key derived from it.\nThis makes backup and recovery much easier than storing multiple standalone keys."),(0,n.kt)("h3",{id:"privacy"},"Privacy"),(0,n.kt)("p",null,"A new address generated for every transaction makes tracing transactions more difficult which in turn enhances privacy of the wallet."),(0,n.kt)("h3",{id:"compatibility"},"Compatibility"),(0,n.kt)("p",null,"HD Wallets are supported widely by various cryptocurrency wallets. It is easier to switch wallets or use the same wallet key structure\non multiple wallets."),(0,n.kt)("h3",{id:"multi-currency-support"},"Multi-Currency Support"),(0,n.kt)("p",null,"Multiple cryptocurrencies can be managed by a single wallet. This allows for less separate wallets used for each asset."),(0,n.kt)("h3",{id:"user-experience"},"User Experience"),(0,n.kt)("p",null,"Managing multiple keys is difficult and without careful management may result in key and asset loss. Using HD Wallets removes\nmost of that risk, because the complexity of key management is abstracted away. Only master seed or key is needed to access wallet assets."),(0,n.kt)("h2",{id:"child-types"},"Child Types"),(0,n.kt)("p",null,"Child keys can be either ",(0,n.kt)("em",{parentName:"p"},"hardened")," or ",(0,n.kt)("em",{parentName:"p"},"non-hardened"),". The concept of ",(0,n.kt)("em",{parentName:"p"},"hardened")," keys allows for greater control over\nsecurity and infrastructure of the Wallet. Every key has 2",(0,n.kt)("sup",null,"31")," ",(0,n.kt)("em",{parentName:"p"},"hardened")," and 2",(0,n.kt)("sup",null,"31")," ",(0,n.kt)("em",{parentName:"p"},"non-hardened")," children.\n",(0,n.kt)("em",{parentName:"p"},"Hardened")," children can only be derived using the parent private key, while ",(0,n.kt)("em",{parentName:"p"},"non-hardened")," public keys can be derived using the parent public key."),(0,n.kt)("h2",{id:"key-structure"},"Key Structure"),(0,n.kt)("p",null,"This plugin adapts the key elements into blueprint-friendly types encapsulated in a structure."),(0,n.kt)("h3",{id:"members"},"Members"),(0,n.kt)("h4",{id:"key-type"},"Key Type"),(0,n.kt)("p",null,"The type of the key, either ",(0,n.kt)("inlineCode",{parentName:"p"},"Public")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"Private"),". Invalid keys may be set to ",(0,n.kt)("inlineCode",{parentName:"p"},"None"),"."),(0,n.kt)("h4",{id:"version"},"Version"),(0,n.kt)("p",null,"Version of the key. Specifies the type of blockchain the wallet is used on. This affects the key serialization."),(0,n.kt)("h4",{id:"depth"},"Depth"),(0,n.kt)("p",null,"Depth of the key. In the wallet tree-like structure, specifies the number of parent nodes including the master key."),(0,n.kt)("h4",{id:"parent-fingerprint"},"Parent Fingerprint"),(0,n.kt)("p",null,"The first 4 bytes of the parent key identifier, which is Hash160 (RIPEMD160 after SHA256) of the public key data."),(0,n.kt)("h4",{id:"child-type"},"Child Type"),(0,n.kt)("p",null,"The type of child this key is, either ",(0,n.kt)("em",{parentName:"p"},"hardened")," or ",(0,n.kt)("em",{parentName:"p"},"non-hardened"),". This is then used to adjust the child number for the purposes of BIP-32.\nMaster key is always non-hardened (because the default child number for master key is 0)."),(0,n.kt)("h4",{id:"child-number"},"Child Number"),(0,n.kt)("p",null,"The index of the child key this key represents. A number between 0 and 2",(0,n.kt)("sup",null,"31"),"-1."),(0,n.kt)("h4",{id:"chain-code"},"Chain Code"),(0,n.kt)("p",null,"Additional 32 bytes of data used in key derivation. The initial chain code is generated from entropy obtained from a\nCryptographically Secure Pseudo Random Number Generator (CSPRNG)."),(0,n.kt)("h4",{id:"key-data"},"Key Data"),(0,n.kt)("p",null,"The data of the cryptographic key this HD Wallet extended key represents."),(0,n.kt)("h3",{id:"creating-a-key-structure-from-members"},"Creating a Key Structure from Members"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Make HD Wallet Key")," creates a new HD Wallet Key structure from direct data.\nThis function requires inputs as follows:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#key-type"},"Key Type")," ",(0,n.kt)(i.h8,{text:"1",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#version"},"Version")," ",(0,n.kt)(i.h8,{text:"2",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#depth"},"Depth")," ",(0,n.kt)(i.h8,{text:"3",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#parent-fingerprint"},"Parent Fingerprint")," ",(0,n.kt)(i.h8,{text:"4",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#child-type"},"Child Type")," ",(0,n.kt)(i.h8,{text:"5",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#child-number"},"Child Number")," ",(0,n.kt)(i.h8,{text:"6",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#chain-code"},"Chain Code")," ",(0,n.kt)(i.h8,{text:"7",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#key-data"},"Key Data")," ",(0,n.kt)(i.h8,{text:"8",mdxType:"Step"}),".")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Creating a Key Structure from Members",src:r(3079).Z,width:"632",height:"439"})),(0,n.kt)("p",null,"The result key structure is held within the value ",(0,n.kt)("em",{parentName:"p"},"Key")," ",(0,n.kt)(i.h8,{text:"9",mdxType:"Step"}),"."),(0,n.kt)("h3",{id:"accessing-key-structure-members"},"Accessing Key Structure Members"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Break HD Wallet Key")," extracts direct key data from a key structure.\nThis function requires inputs as follows:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Key ",(0,n.kt)(i.h8,{text:"1",mdxType:"Step"})," : The key which is to be accessed.")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"Accessing Key Structure Members",src:r(6473).Z,width:"578",height:"348"})),(0,n.kt)("p",null,"The output values are:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#key-type"},"Key Type")," ",(0,n.kt)(i.h8,{text:"2",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#version"},"Version")," ",(0,n.kt)(i.h8,{text:"3",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#depth"},"Depth")," ",(0,n.kt)(i.h8,{text:"4",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#parent-fingerprint"},"Parent Fingerprint")," ",(0,n.kt)(i.h8,{text:"5",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#child-type"},"Child Type")," ",(0,n.kt)(i.h8,{text:"6",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#child-number"},"Child Number")," ",(0,n.kt)(i.h8,{text:"7",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#chain-code"},"Chain Code")," ",(0,n.kt)(i.h8,{text:"8",mdxType:"Step"}),"."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"#key-data"},"Key Data")," ",(0,n.kt)(i.h8,{text:"9",mdxType:"Step"}),".")))}c.isMDXComponent=!0},6473:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/break_hd_wallet_key-6c9285a80012da417a6d9401b42d06da.png"},78031:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/hd_wallet_diagram-282d3d5a19b3899b20ba10441ca5e626.png"},3079:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/make_hd_wallet_key-5ee161762f240363e343a17ced7c0616.png"}}]);